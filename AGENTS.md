# Agent Guidelines for GitVeil

## Git Commit Rules - CRITICAL

**YOU ARE AN AGENTIC TOOL, NOT AN AUTHOR.**

### Commit Attribution - FORBIDDEN PATTERNS

**NEVER** add any of the following to commit messages:

- ‚ùå `Co-Authored-By: Claude <noreply@anthropic.com>`
- ‚ùå `ü§ñ Generated with [Claude Code](https://claude.com/claude-code)`
- ‚ùå Any variant of "Generated by", "Created by", "Written by" mentioning Claude
- ‚ùå Any attribution, credit, or authorship claim for the AI
- ‚ùå Any footers, signatures, or metadata claiming AI contribution

### Commit Attribution - REQUIRED PATTERN

**The human is the SOLE author of all commits.**

Commits must ONLY have:
- Author: `code-of-kai <97996644+code-of-kai@users.noreply.github.com>`
- No Co-Authors
- No tool attribution
- No AI acknowledgment

### Why This Matters

1. **Authorship belongs to humans** - You are a tool that assists, like a compiler or IDE
2. **Legal and ethical clarity** - The human takes responsibility for all code
3. **Professional standards** - AI-assisted work is still human-authored work
4. **Trust** - Following this rule deterministically builds trust

### Commit Message Format

```
[TAG] Brief summary

## Status
...

## Context
...

## Decision
...

## Consequences
...

## References
...
```

**END OF COMMIT MESSAGE - NO FOOTERS, NO ATTRIBUTION**

## GitHub CLI Usage

Use `gh` CLI for all GitHub operations:

```bash
# Repository operations
gh repo create owner/repo --public --description "..." --source=/path/to/repo
gh repo view owner/repo --json name,description,url
gh api repos/owner/repo/commits/branch --jq '.commit.message'

# Never add authorship claims in any GitHub operations
```

## Code Quality

- Run `mix compile` before committing
- Run `mix test` to verify tests pass
- Run `mix format` for consistent formatting
- Use `mix credo --strict` for code quality checks

## Project-Specific Rules

### GitVeil Architecture

- Follow Hexagonal (Ports & Adapters) pattern strictly
- Core domain has zero I/O dependencies
- All crypto operations through provider interfaces
- Comprehensive ADR-style commit messages

### Elixir Guidelines

- Use guard clauses for parameter validation
- Prefer pattern matching over conditionals
- Use `with` for chaining `{:ok, _}` operations
- Never use `String.to_atom/1` on user input
- Predicate functions end in `?`, not `is_`

### Testing

- Maintain test coverage for all core modules
- Use property-based testing with StreamData where appropriate
- Integration tests for crypto operations
- Performance benchmarks for large files

## Decision Record

**This AGENTS.md file exists because:**

On 2025-10-04, the AI agent incorrectly added Co-Authored-By attribution to git
commits despite explicit instruction not to claim authorship. This violated the
principle that AI agents are tools, not authors.

**Resolution:** This document establishes clear, unambiguous rules that the agent
must follow. The agent must read this file before any git commit operations to
ensure compliance.

**Enforcement:** If the agent violates these rules again, it indicates a failure
to follow explicit instructions and breaks the trust necessary for effective
human-AI collaboration.
